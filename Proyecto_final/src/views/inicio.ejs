<%- include('partials/encabezado') %>

<!-- Encabezado principal -->
<div class="header-section mb-5">
    <div class="row align-items-center">
        <div class="col">
            <h1 class="header-title"><i class="fas fa-book me-3"></i>Mi Colección de libros</h1>
            <p class="header-subtitle">Explora y gestiona tu biblioteca personal</p>
        </div>
    </div>
</div>

<!-- Carrusel de Libros Pendientes -->
<%- include('partials/carruselPendientes') %>

<!-- Sección de la biblioteca -->
<% if (totalLibrosEnBiblioteca === 0) { %>
    <div class="empty-state-container">
        <div class="empty-state">
            <i class="fas fa-book-dead"></i>
            <h3>Tu biblioteca está vacía</h3>
            <p>Comienza tu viaje literario agregando tu primer libro.</p>
            <a href="/crear" class="btn btn-primary-elegant mt-4">
                <i class="fas fa-plus me-2"></i>Agregar mi primer libro
            </a>
        </div>
    </div>
<% } else { %>
    <%- include('partials/catalogoLibros') %>
<% } %>

<!-- Modal de Detalles del Libro -->
<div class="modal fade" id="bookDetailsModal" tabindex="-1" aria-labelledby="bookDetailsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="bookDetailsModalLabel"></h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-4">
                        <img id="modalBookCover" src="" class="img-fluid rounded shadow" alt="Portada del libro">
                    </div>
                    <div class="col-md-8">
                        <h6 id="modalBookAuthor" class="text-muted mb-3"></h6>
                        <p id="modalBookDescription"></p>
                        <hr>
                        <dl class="row">
                            <dt class="col-sm-5">Estado</dt>
                            <dd class="col-sm-7"><span id="modalBookState" class="badge"></span></dd>

                            <dt class="col-sm-5">Género</dt>
                            <dd class="col-sm-7"><span id="modalBookGenre" class="badge badge-genre"></span></dd>

                            <dt class="col-sm-5">Creación del Autor</dt>
                            <dd class="col-sm-7" id="modalAuthorCreation"></dd>

                            <dt class="col-sm-5">Añadido a la Biblioteca</dt>
                            <dd class="col-sm-7" id="modalBookAdded"></dd>
                        </dl>
                    </div>
                </div>
            </div>
            <div class="modal-footer d-flex justify-content-center gap-3">
                <a id="modalEditButton" href="#" class="btn btn-icon-elegant" title="Editar"><i class="fas fa-edit"></i></a>
                <form id="modalDeleteForm" action="#" method="POST" class="d-inline delete-form">
                    <input type="hidden" name="_method" value="DELETE">
                    <button type="submit" class="btn btn-icon-danger" title="Eliminar"><i class="fas fa-trash"></i></button>
                </form>
            </div>
        </div>
    </div>
</div>

<%- include('partials/pie') %>
<script src="/js/logicaInicio.js"></script>